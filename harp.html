<head>
    <title>Political Decision-Making on Mechanical Turk</title>
        <!--########################### 
        Expand/Collapse JS and CSS code for use 
        in the HEAD section of your document.
        Written by Dick Ervasti. Learn More at:
        http://dickervasti.com/wiki-style-text-expand-collapse-no-jquery.htm
        ##################################-->
        <script type="text/javascript">
        <!--
            function expand_collapse(id) {
               var e = document.getElementById(id);
               var f = document.getElementById(id+"_arrows");
               if(e.style.display == 'none'){
                  e.style.display = 'block';
                  f.innerHTML = '&#9650;';
               }
               else {
                  e.style.display = 'none';
                  f.innerHTML = '&#9660;';
               }
            }
        //-->
        </script>
        <style type="text/css">
        .arrows{text-decoration:none;color:silver;}
        </style>
</head>

<body>
</body>

<template name="experiment">
    <header>
        <div class="bg">
            <div id="navigacija" class="jumbotron" style="font-size: 45px">
                Political Decision-Making on Mechanical Turk
            </div>
        </div>
    </header>

    <div class="jumbotron" style="padding:25px">
        {{#if initialized}}
        {{else}}
            {{>instructionsMain}}
            <p class="center"><input type="button" value="BEGIN" name="begin_experiment" id="begin_experiment" class="btn btn-default"/></p>
        {{/if}}
        {{#if initialized}}

            <div id="exp_start" class="well">
                {{#if waiting}}
                    <div class="center"> Loading... </div>
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                {{else}}
                    {{#each questions}}
                        {{> question}}
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}
    </div>
</template>

<template name="question0">
    <header>
        <div class="bg">
            <div id="navigacija" class="jumbotron" style="font-size: 45px">
                Political Decision-Making on Mechanical Turk
            </div>
        </div>
    </header>

    <div class="jumbotron" style="padding:25px">
        {{>question0text}}
        {{#if initialized}}



            <div id="exp_start" class="well">
                {{#if waiting}}
                    <div class="center"> Loading... </div>
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                {{else}}
                    {{#each questions}}
                        {{> question}}
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}
    </div>
</template>


<template name="question">
    {{>Template.dynamic template=current_answer}}
    <p style="margin-bottom:100px;"></p>
</template>

<template name="mechanism0">
    <h4>
        {{> timer}}
        <p class="center">Current Credit Allocation</p>
        <div>
            <div id="budgetbar" class="progress">
                <div id="slider0bar" class="progress-bar progress-bar-primary" style="width: 0%; color: rgb(245,245,245);"></div>
                <div id="slider1bar" class="progress-bar progress-bar-success" style="width: 0%; color: rgb(245,245,245);"></div>
                <div id="slider2bar" class="progress-bar progress-bar-warning" style="width: 0%; color: rgb(245,245,245);"></div>
                <div id="slider3bar" class="progress-bar progress-bar-danger" style="width: 0%; color: rgb(245,245,245);"></div>
            </div>
            <div style="margin: auto;"><b id = "creditsleft">Credits left: 100</b></div>

        </div>

    
        <hr style="clear: both">
        {{> deficit_template (deficit_names)}}
        {{> mech0_slider (slider_names "slider0" "blue" "National Defense")}}
        {{> mech0_slider (slider_names "slider1" "green" "Medicare & Health")}}
        {{> mech0_slider (slider_names "slider2" "orange" "Transportation & Science")}}
        {{> mech0_slider (slider_names "slider3" "red" "Individual Income Tax")}}
    </h4>
</template>
<template name="mechanism3">
    <h4>
        {{> timer}}
        <p class="center" style="font-size: 17px;">Current Credit Allocation</p>
        <div>
            <div id="budgetbar" class="progress">
                <div id="slider0bar" class="progress-bar progress-bar-primary" style="width: 0%; color: rgb(245,245,245);"></div>
                <div id="slider1bar" class="progress-bar progress-bar-success" style="width: 0%; color: rgb(245,245,245);"></div>
                <div id="slider2bar" class="progress-bar progress-bar-warning" style="width: 0%; color: rgb(245,245,245);"></div>
                <div id="slider3bar" class="progress-bar progress-bar-danger" style="width: 0%; color: rgb(245,245,245);"></div>
            </div>
            <div style="margin: auto;"><b id = "creditsleft">Credits left: 100</b></div>

        </div>

        <hr style="clear: both">
        {{> deficit_template (deficit_names)}}
        {{> mech0_slider (slider_names "slider0" "blue" "National Defense")}}
        {{> mech0_slider (slider_names "slider1" "green" "Medicare & Health")}}
        {{> mech0_slider (slider_names "slider2" "orange" "Transportation & Science")}}
        {{> mech0_slider (slider_names "slider3" "red" "Individual Income Tax")}}
    </h4>
</template>
<template name="mechanism1">
    {{> timer}}
    <div style="width: 1300px; margin: auto">
        <form name="option">
            <p style="float: left; width: 95px;margin-left: 0px;"></p>
            <div style="float: left;"></div>
            {{> slider_head_mech1}}
            <label class="well" style="float: left; height: 80px; border: 2px solid rgb(130,130,130);">
                <b style="height: 20px; float: left; margin-top: 10px;"> Option 1 </b>
                <input type="radio" name="radio" value = "0" style="height: 20px; float: left; margin-top: 10px; margin-left: 3px; margin-right: 3px;" />
                {{>mech1_slider (slider_names "slider00" "blue" "National Defense")}}
                {{>mech1_slider (slider_names "slider10" "green" "Medicare & Health")}}
                {{>mech1_slider (slider_names "slider20" "orange" "Science & Transportation")}}
                {{>mech1_slider (slider_names "slider30" "red" "Individual Income Tax")}}
                {{>mech1_slider (slider_names "slider40" "lightblue" "Deficit")}}

            </label>
            <label class="well" style="float: left; height: 80px; border: 2px solid rgb(130,130,130);">
                <b style="height: 20px; float: left; margin-top: 10px;"> Option 2 </b>
                <input type="radio" name="radio" value = "1" style="height: 20px; float: left; margin-top: 10px; margin-left: 3px; margin-right: 3px;" />
                {{>mech1_slider (slider_names "slider01" "blue" "National Defense")}}
                {{>mech1_slider (slider_names "slider11" "green" "Medicare & Health")}}
                {{>mech1_slider (slider_names "slider21" "orange" "Science & Transportation")}}
                {{>mech1_slider (slider_names "slider31" "red" "Individual Income Tax")}}
                {{>mech1_slider (slider_names "slider41" "lightblue" "Deficit")}}
            </label>
            <label class="well" style="float: left; height: 80px; border: 2px solid rgb(130,130,130);">
                <b style="height: 20px; float: left; margin-top: 10px;"> Option 3 </b>
                <input type="radio" name="radio" value = "2" style="height: 20px; float: left; margin-top: 10px; margin-left: 3px; margin-right: 3px;" />
                {{>mech1_slider (slider_names "slider02" "blue" "National Defense")}}
                {{>mech1_slider (slider_names "slider12" "green" "Medicare & Health")}}
                {{>mech1_slider (slider_names "slider22" "orange" "Science & Transportation")}}
                {{>mech1_slider (slider_names "slider32" "red" "Individual Income Tax")}}
                {{>mech1_slider (slider_names "slider42" "lightblue" "Deficit")}}
            </label>
        </form>
    </div>

</template>

<template name="deficit_template">
    <div style="clear: both">
        <h4>
        <span>The</span> <span id="{{this.deficit_text}}">deficit</span><span> will be </span>
        <span id="{{this.deficit_value}}" >X</span><span>. This is a </span><span id="{{this.deficit_percentage}}">Y</span><span> from the 2016 budget deficit.</span>
        </h4>
    </div>
</template>

<template name="mech0_slider">
    <p id="{{this.label}}" style="float:left; margin-left: 9%; font-size: 19px;">{{this.title}}</p>
    <span class="glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}" aria-hidden="true" style="float:left; margin-left: 10px;"></span>
    <div style="clear: both;">
        <p id="{{this.comp}}" data-toggle="tooltip" data-placement="top" title="Change from 2016 estimates." aria-hidden="true" style="float: left; width: 7%; font-size: 17px;"></p>
        <div id="{{this.name}}" style="height: 20px; width: 83%; float: left; background: {{this.color}}"></div>
        <form name="{{this.name}}">
            $<textarea id="{{this.name}}" style="height:30px;width:7%;min-width: 80px">{{this.value}}</textarea>B<br>
        </form>
    </div>
    <br style="clear: both;">
</template>

<template name="slider_head_mech1">
    {{>mech1_slider_title (slider_names "" "" "National Defense")}}
    {{>mech1_slider_title (slider_names "" "" "Medicare & Health")}}
    {{>mech1_slider_title (slider_names "" "" "Transportation & Science")}}
    {{>mech1_slider_title (slider_names "" "" "Individual Income Tax")}}
    {{>mech1_slider_title (slider_names "" ""  "Deficit")}}
</template>

<template name="mech1_slider_title">
    <b style="float: left; width: 210px;">{{this.title}}<span class="glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}" aria-hidden="true" style="margin-left: 10px;"></span> </b>
</template>

<template name="mech1_slider">
    <div class="well well-sm" style="float: left; height: 40px;">
            <span id="{{this.comp}}" data-toggle="tooltip" data-placement="top" title="Change from 2016 estimates." aria-hidden="true" style="float: left; width: 55px; height: 40px;"></span>
            <div class="progress" style="width: 130px; float: left; margin-left: 5px;">
                <div id="{{this.id}}" class="progress-bar" role="progressbar" style="color: black; width: 60%; background: {{this.color}};">
                </div>
            </div>
    </div>
</template>

<template name="mech2_slider">
    <p id="{{this.label}}" style="float:left; margin-left: 7%;">{{this.title}}</p>
    <span class="glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}" aria-hidden="true" style="float:left; margin-left: 10px;"></span>
    <div style="clear: both;">
        <p id="{{this.comp}}" data-toggle="tooltip" data-placement="top" title="Change from 2016 estimates." aria-hidden="true" style="float: left; width: 7%;"></p>
        <div id="{{this.name}}" style="height: 20px; width: 83%; float: left; background: {{this.color}}"></div>
        <form name="{{this.text}}">
            <textarea id="{{this.name}}" style="height:30px;width:7%;min-width: 80px">{{this.value}}</textarea><br>
        </form>
    </div>
    <br style="clear: both;">
</template>

<template name="mech2_weight_slider">
    <p id="{{this.label}}" style="float:left; margin-left: 9%;">{{this.title}}</p>
    <span class="glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}" aria-hidden="true" style="float:left; margin-left: 10px;"></span>
    <div style="clear: both;">
        <div id="{{this.name}}" style="height: 20px; width: 83%; margin-left: 7%; float: left; background: {{this.color}}"></div>
        <form name="{{this.text}}">
            <textarea id="{{this.name}}" style="height:30px;width:7%;min-width: 80px">{{this.value}}</textarea><br>
        </form>
    </div>
    <br style="clear: both;">
</template>

<template name="mech3_slider">
    <p id="{{this.label}}" style="float:left; margin-left: 9%; font-size: 19px;">{{this.title}}</p>
    <span class="glyphicon glyphicon-question-sign" data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}" aria-hidden="true" style="float:left; margin-left: 10px;"></span>
    <div style="clear: both;">
        <p id="{{this.comp}}" data-toggle="tooltip" data-placement="top" title="Change from 2016 estimates." aria-hidden="true" style="float: left; width: 7%; font-size: 17px;"></p>
        <div id="{{this.name}}" style="height: 20px; width: 83%; float: left; background: {{this.color}}"></div>
        <form name="{{this.name}}">
            $<textarea id="{{this.name}}" style="height:30px;width:7%;min-width: 80px">{{this.value}}</textarea>B<br>
        </form>
    </div>
    <br style="clear: both;">
</template>
<template name="mechanism2">
    <h3>
        {{> timer}}
        {{> deficit_template (deficit_names)}}
        {{> mech2_slider (slider_names "slider0" "blue" "National Defense")}}
        {{> mech2_slider (slider_names "slider1" "green" "Medicare & Health")}}
        {{> mech2_slider (slider_names "slider2" "orange" "Transportation & Science")}}
        {{> mech2_slider (slider_names "slider3" "red" "Individual Income Tax")}}

        <br style="clear: both;">

        <p align = "left"> On the following sliders, please indicate how strong your feelings are regarding the budget values you indicated above on a scale of 0 to 10 (“Indifferent” to “Care Very Much”). For example, if it's extremely important to you that we decrease spending on defense, you would put a high value on the slider below, along with a low spending figure above. If on the other hand you would prefer high spending on defense but do not feel strongly about it, you would put a high spending figure above but a low value below.  </p>

        {{> mech2_weight_slider (slider_names "slider0weight" "blue" "National Defense")}}
        {{> mech2_weight_slider (slider_names "slider1weight" "green" "Medicare & Health")}}
        {{> mech2_weight_slider (slider_names "slider2weight" "orange" "Transportation & Science")}}
        {{> mech2_weight_slider (slider_names "slider3weight" "red" "Individual Income Tax")}}
        {{> mech2_weight_slider (slider_names "slider4weight" "lightblue" "Deficit")}}

    </h3>
</template>

<template name="timer">
    <div>
        {{#if waiting}}
        {{else}}
            <p class="center">{{time_remaining}}</p>
        {{/if}}
    </div>
</template>

<template name="answer0">
    <div id="scroll_here" class="center">
        {{> timer}}
        {{>Template.dynamic template=current_question_text}}
        <h4>
            <br>
            Please click 'NEXT' once you read these instructions.
            <br>
        </h4>
        <input type="button" value="NEXT" id="answer_submission" class="btn btn-default">
    </div>
</template>
<template name="answer1">
    <div class="center">
        {{>Template.dynamic template=current_question_text}}
        <div id="scroll_here">
            {{>Template.dynamic template=current_mechanism}}
        </div>
        <h4>
            <br style="clear: both;">
            Please explain your answers:
            <br>
        </h4>
        <form name="text_explanation">
            <textarea rows="8" cols="75"> </textarea> <br>
        </form>
        <input type="button" value="SUBMIT" id="answer_submission" class="btn btn-default">
    </div>
</template>

<template name="answer2">
    <div id="scroll_here" class="center">
        <h3>
            <p> How do you identify?</p>

            <form name = "political_stance_report">
                <label class="label label-primary">Very conservative&nbsp;&nbsp;<input type="radio" name="radio" value = "very conservative" /></label>
                <label class="label label-success">Somewhat conservative&nbsp;&nbsp;<input type="radio" name="radio" value = "somewhat conservative" /></label>
                <label class="label label-default">Neutral&nbsp;&nbsp;<input type="radio" name="radio" value = "neutral" /></label>
                <label class="label label-success">Somewhat liberal&nbsp;&nbsp;<input type="radio" name="radio" value = "somewhat liberal" /></label>
                <label class="label label-primary">Very liberal&nbsp;&nbsp;<input type="radio" name="radio" value = "very liberal" /></label>
                <br style="margin-bottom: 20px;">
                <br>
                <label class="label label-warning">Prefer not to answer&nbsp;&nbsp;<input type="radio" name="radio" value = "prefer not to answer" /></label>
            </form>
            <br>
            <p> Please provide feedback about the website, the HIT in general, and the user interface. We will reward a $0.40 bonus for good explanations and/or good feedback.</p>
            <form name="feedback">
                <textarea rows="8" cols="45"> </textarea>
            </form>
        </h3>
        <br>
        <input type="button" value="SUBMIT" id="answer_submission" class="btn btn-default">
    </div>
</template>

<template name="instructionsMain">

    <h4>
        <p align = "left">
            Welcome to our survey and thank you for participating. We are testing out various mechanisms that would allow people to vote on a government budget and would like your feedback on how these mechanisms work.
            <br><br>
            We will ask you questions about how you would like the US federal government to allocate money across a few of its major budget items.
            <br><br> </p>
<p><a href="#iqiuwy" id="4_arrows" class="arrows" onclick="expand_collapse('4');">&#9660;</a><span style="font-size:105%;"><b>Consent Agreement (Click to expand)</b></span>
<div id="4" style="display:none;"><p align = "left">You are now being asked to perform a task that is part of a Stanford University research project. You can exit at any time. The expected time for this activity is 3-6 minutes. In this activity, you will be asked to help with the allocation of a budget across certain items in an artificial setting. This study poses no risk, and will help us improve digital democracy processes. Your payment will be $0.60 for performing the task, and an additional $0.40 for explaining your answers well and submitting a description of your experience with the task. This study is funded partially by the US Department of Defense. Please contact Professor Ashish Goel at goel_admins@lists.stanford.edu if you have any questions, suggestions, or concerns.
 <br><br>
      If you are not satisfied with how this study is being conducted, or if you have any concerns, complaints, or general questions about the research or your rights as a participant, please contact the Stanford Institutional Review Board (IRB) to speak to someone independent of the research team at (650)-723-2480 or toll free at 1-866-680-2906, or email at IRB2-Manager@lists.stanford.edu.  You can also write to the Stanford IRB, Stanford University, 3000 El Camino Real, Five Palo Alto Square, 4th Floor, Palo Alto, CA 94306.</p></div> </p> <br><br>
        <p>Click 'begin' once you have read and if you agree to the above consent statement. </p>
    </h4>

</template>

<template name="question0text">
    <h4>
        <p align = "left">
        Below, please indicate your preferences regarding the US Federal Budget. Modify the budget values  to better match your preferences. Note that the figures are in Billions of dollars. To successfully complete the experiment, you must advance before time is up.
        <br><br>
        To increase/decrease the budget from the initial values, you’ll have to spend the given `movement credits.’ Notably, the amount of credits required to a given budget item will be proportional to the square of the change you make in that budget item, and so it is easier to move multiple budget items a small amount each than it is to move one item a large amount. Don’t worry about the exact calculations because we’ll show you how many credits you are using as you move the values. This constraint mimics tradeoffs in a democtratic society -- because not everyone can get exactly what they want, it benefits voters to voice their opinions most strongly on the budget items they care about the most. 
        </p>
        <p><a href="#iqiuwy" id="0_arrows" class="arrows" onclick="expand_collapse('0');">&#9660;</a><span style="font-size:105%;">Detailed instructions (Click to expand)</span>
<div id="0" style="display:none;"><p align = "left">The amount of credits you spend changing a given budget item will be proportional to the square of the change you make in that budget item. Note that the square of the number <b>a</b> is <b>a</b><sup>2</sup> or <b>a</b> multiplied by <b>a</b>. For example, let’s say that the initial value for defense expenditure is $500B, but you would prefer that defense spending be decreased by $5B to $495 B. To move the defense spending to your ideal point, you would have to spend 25*<b>C</b> credits, where <b>C</b> is some predetermined value  (15 - 10 = 5, and 5<sup>2</sup> = 25). If additionally you want to  increase  tax spending by $3B, you would have to spend an additional 9*<b>C</b> credits (3<sup>2</sup> = 9), for a total of 34*<b>C</b> credits. Note that as a consequence of the squaring rule, it is cheaper to move two items $5B each, for example, than it is to move one item $10B. 
 <br><br>
Of course, you may not have enough credits to make all the changes you wish to make, and so you’ll have to prioritize the changes you care about the most.  <br><br> On the left-hand side for your reference we show you the change from how much the government is budgeted to spend in 2016. You can move the sliders to adjust values, or you can enter the value you desire in the box on the right. We will automatically enforce the movement constraint and update the deficit term. Above the sliders you can see how many credits you are using to move each budget items, along with how many credits remain.</p></div> </p>
    </h4>
</template>
<template name="question3text">
    <h4>
        <p align = "left">
Below, please indicate your preferences regarding the US Federal Budget. Modify the budget values  to better match your preferences. Note that the figures are in Billions of dollars. To successfully complete the experiment, you must advance before time is up.
<br><br>
To increase/decrease the budget from the initial values, you’ll have to spend the given `movement credits.’ Notably, the amount of credits required to a given budget item will be proportional to the change you make in that budget item. Don’t worry about the exact calculations because we’ll show you how many credits you are using as you move the values.
        </p>
        <p><a href="#iqiuwy" id="3_arrows" class="arrows" onclick="expand_collapse('3');">&#9660;</a><span style="font-size:105%;">Detailed instructions (Click to expand)</span>
<div id="3" style="display:none;"><p align = "left">The amount of credits you spend changing a given budget item will be proportional to the change you make in that budget item. Note that the square of the number <b>a</b> is <b>a</b><sup>2</sup> or <b>a</b> multiplied by <b>a</b>. For example, let’s say that the initial value for defense expenditure is $500B, but you would prefer that defense spending be decreased by $5B to $495 B. To move the defense spending to your ideal point, you would have to spend 5*<b>C</b> credits, where <b>C</b> is some predetermined value  (15 - 10 = 5). If additionally you want to increase  tax spending by $3B, you would have to spend an additional 3*<b>C</b> credits, for a total of 8*<b>C</b> credits. <br><br>
Of course, you may not have enough credits to make all the changes you wish to make, and so you’ll have to prioritize the changes you care about the most.  <br><br> On the left-hand side for your reference we show you the change from how much the government is budgeted to spend in 2016. You can move the sliders to adjust values, or you can enter the value you desire in the box on the right. We will automatically enforce the movement constraint and update the deficit term. Above the sliders you can see how many credits you are using to move each budget items, along with how many credits remain.</p></div> </p>
    </h4>
</template>
<template name="question1text">
    <h4>
        <p align = "left">
Below, please indicate your preferences regarding the US Federal Budget. Three proposed Federal Budgets are shown on the page. Select the budget you like the most. Note that the figures are in Billions of dollars. To successfully complete the experiment, you must advance before time is up. 
        </p>
        <p><a href="#iqiuwy" id="1_arrows" class="arrows" onclick="expand_collapse('1');">&#9660;</a><span style="font-size:105%;">Detailed instructions (Click to expand)</span>
<div id="1" style="display:none;"><p align = "left">On the left of each bar, we indicate the change of that budget item from the 2016 budget. Inside the bar we show you the figure for that budget item in that option. <br><br> You may think that the budgets are very similar, but if you and others keep moving it in the direction you prefer, a large change can be made! </p></div> </p>
    </h4>
</template>

<template name="question2text">
    <h4>
        <p align = "left">
Below, indicate your preferences regarding the US Federal Budget. For each of the given budget items, please move the sliders to indicate your ideal value for that budget item. To successfully complete the experiment, you must advance before time is up. </p>
        <p><a href="#iqiuwy" id="2_arrows" class="arrows" onclick="expand_collapse('2');">&#9660;</a><span style="font-size:105%;">Detailed instructions (Click to expand)</span>
<div id="2" style="display:none;"><p align = "left">Note that the spending figures are in Billions of dollars. On the left-hand side is the percent change from how much the government is budgeted to spend in 2016. This value, along with the deficit term, will be automatically calculated as you move the bars. You may also enter a value in the textbox on the right instead of moving the slider. 
</p></div> </p>
    </h4>
</template>
