<head>
  <title>harp</title>
</head>

<body>
</body>

<template name="experiment">
    <header>
        <div class="bg">
            <div id="navigacija" class="jumbotron" style="font-size: 45px">
                Political Decision-Making on Mechanical Turk
            </div>
        </div>
    </header>

    <div class="jumbotron" style="padding:25px">
        {{>instructionsMain}}
        {{#if initialized}}
        {{else}}
            <p class="center"><input type="button" value="BEGIN" name="begin_experiment" id="begin_experiment" class="btn btn-default"/></p>
        {{/if}}
                {{#if initialized}}

                    <div>
                        {{#if show_timer}}
                            {{#if waiting}}
                            {{else}}
                                <p class="center"> Time remaining: {{time_remaining}} seconds</p>
                            {{/if}}
                        {{/if}}
                    </div>

                    <div id="exp_start" class="well">
                        {{#if waiting}}
                            <div class="center"> Loading... </div>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        {{else}}
                            {{#each questions}}
                                {{> question}}
                            {{/each}}
                        {{/if}}
                    </div>
                {{/if}}
    </div>
</template>

<template name="question0">
    <header>
        <div class="bg">
            <div id="navigacija" class="jumbotron" style="font-size: 45px">
                Political Decision-Making on Mechanical Turk
            </div>
        </div>
    </header>

    <div class="jumbotron" style="padding:25px">
        {{>question0text}}
                        {{#if initialized}}

                    <div>
                        {{#if show_timer}}
                            {{#if waiting}}
                            {{else}}
                                <p class="center"> Time remaining: {{time_remaining}} seconds</p>
                            {{/if}}
                        {{/if}}
                    </div>

                    <div id="exp_start" class="well">
                        {{#if waiting}}
                            <div class="center"> Loading... </div>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        {{else}}
                            {{#each questions}}
                                {{> question}}
                            {{/each}}
                        {{/if}}
                    </div>
                {{/if}}
    </div>
</template>


<template name="question">
    text is {{text}}
    <br>
    question busy status: {{busy}}
    {{>Template.dynamic template=current_answer}}
    <p style="margin-bottom:100px;"></p>
</template>

<template name="mechanism0">
    <div>
        <div style="float:right;"><p id = "creditsleft"> Credits left: XXX </p></div>
        <div id="budgetbar" class="progress">
            <div id="slider0bar" class="progress-bar progress-bar-primary" style="width: 0%"></div>
            <div id="slider1bar" class="progress-bar progress-bar-success" style="width: 0%"></div>
            <div id="slider2bar" class="progress-bar progress-bar-warning" style="width: 0%"></div>
            <div id="slider3bar" class="progress-bar progress-bar-danger" style="width: 0%"></div>
            <div id="slider4bar" class="progress-bar progress-bar-info" style="width: 0%"></div>
        </div>
    </div>

    <br>
    <p id="slider0label" style="float:left">National Defense</p>
    <div style="clear: both;">
        <p id="slider0comp" style="float: left; width: 7%;">-10%</p>
        <div id="slider0" style="height: 20px; width: 83%; float: left; background: rgb(51, 122, 183)"></div>
        <form name="slider0_text">
            <textarea id="slider0" style="height:30px;width:7%;min-width: 80px; float:right">{{slider0_value}}</textarea> <br>
        </form>
        <div style="width: 83%; float: left; margin-left: 7%; clear: both;"><p id="slider0min" style="display: inline; float: left;">min</p> <p id="slider0cur" style="display: inline;"> curr</p> <p id="slider0max" style="display: inline; float: right;">max</p> </div>
    </div>
    <br style="clear: both;">

    <p id="slider1label" style="float:left">Medicare &amp; Health</p>
    <div style="clear: both;">
        <p id="slider1comp" style="float: left; width: 7%;">-10%</p>
        <div id="slider1" style="height: 20px; width: 83%; float: left; background: rgb(92, 184, 92);"></div>
        <form name="slider1_text">
            <textarea id="slider1" style="height:30px;width:7%;min-width: 80px; float:right">{{slider1_value}}</textarea> <br>
        </form>
        <div style="width: 83%; float: left; margin-left: 7%; clear: both;"><p id="slider1min" style="display: inline; float: left;">min</p> <p id="slider1cur" style="display: inline;"> curr</p> <p id="slider1max" style="display: inline;float: right;">max</p> </div>
    </div>
    <br style="clear: both;">
    <p id="slider2label" style="float:left">Transportation &amp; Science</p>
    <div style="clear: both">
        <p id="slider2comp" style="float: left; width: 7%;">-10%</p>
        <div id="slider2" style="height: 20px; width: 83%; float: left; background: rgb(240, 173, 78);"></div>
        <form name="slider2_text">
            <textarea id="slider2" style="height:30px;width:7%;min-width: 80px;float:right">{{slider2_value}}</textarea> <br>
        </form>
        <div style="width: 89%"><p id="slider2min" style="display: inline; float: left;">min</p> <p id="slider2cur" style="display: inline;"> curr</p> <p id="slider2max" style="display: inline;float: right;">max</p> </div>
    </div>
    <br style="clear: both;">
    <p id="slider3label" style="float:left">Individual Income Tax</p>
    <div style="clear: both">
        <p id="slider3comp" style="float: left; width: 7%;">-10%</p>
        <div id="slider3" style="height: 20px; width: 83%; float: left; background: rgb(217, 83, 79);"></div>
        <form name="slider3_text">
            <textarea id="slider3" style="height:30px;width:7%;min-width: 80px;float:right">{{slider3_value}}</textarea> <br>
        </form>
        <div style="width: 89%"><p id="slider3min" style="display: inline; float: left;">min</p> <p id="slider3cur" style="display: inline;"> curr</p> <p id="slider3max" style="display: inline;float: right;">max</p> </div>
    </div>
    <br style="clear: both">
    <p id="slider4label" style="float:left">Deficit</p>
    <div style="clear: both">
        <p id="slider4comp" style="float: left; width: 7%;">-10%</p>
        <div id="slider4" style="height: 20px; width: 83%; float: left; background: rgb(91, 192, 222);"></div>
        <form name="slider4_text">
            <textarea id="slider4" style="height:30px;width:7%;min-width: 80px;float:right">{{slider4_value}}</textarea> <br>
        </form>
        <div style="width: 89%"><p id="slider4min" style="display: inline; float: left;">min</p> <p id="slider4cur" style="display: inline;"> curr</p> <p id="slider4max" style="display: inline;float: right;">max</p> </div>
    </div>
</template>

<template name="mechanism1">
    <h3>
        <p>
            Please choose your favorite choice.
        </p>
        <form name = "political_stance_report">
            <label class="label label-primary">Very conservative<input type="radio" name="radio" value = "very conservative" /></label>
            <label class="label label-success">Somewhat conservative<input type="radio" name="radio" value = "somewhat conservative" /></label>
            <label class="label label-default">Neutral<input type="radio" name="radio" value = "neutral" /></label>
            <label class="label label-success">Somewhat liberal<input type="radio" name="radio" value = "somewhat liberal" /></label>
            <label class="label label-primary">Very liberal<input type="radio" name="radio" value = "very liberal" /></label>
        </form>
        <br>
        <div id="slider0" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
        <form name="slider0_text">
            <textarea id="slider0" style="height:30px;width:5%;min-width: 80px;">{{slider0_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider0min" style="display: inline; float: left;">min</p> <p id="slider0cur" style="display: inline;"> curr</p> <p id="slider0max" style="display: inline;float: right;">max</p> </div>
        <div id="slider1" style="height: 20px; width: 93%; float: left; background: rgb(92, 184, 92);"></div>
        <form name="slider1_text">
            <textarea id="slider1" style="height:30px;width:5%;min-width: 80px;">{{slider1_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider1min" style="display: inline; float: left;">min</p> <p id="slider1cur" style="display: inline;"> curr</p> <p id="slider1max" style="display: inline;float: right;">max</p> </div>
        <div id="slider2" style="height: 20px; width: 93%; float: left; background: rgb(240, 173, 78);"></div>
        <form name="slider2_text">
            <textarea id="slider2" style="height:30px;width:5%;min-width: 80px;">{{slider2_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider2min" style="display: inline; float: left;">min</p> <p id="slider2cur" style="display: inline;"> curr</p> <p id="slider2max" style="display: inline;float: right;">max</p> </div>
        <div id="slider3" style="height: 20px; width: 93%; float: left; background: rgb(217, 83, 79);"></div>
        <form name="slider3_text">
            <textarea id="slider3" style="height:30px;width:5%;min-width: 80px;">{{slider3_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider3min" style="display: inline; float: left;">min</p> <p id="slider3cur" style="display: inline;"> curr</p> <p id="slider3max" style="display: inline;float: right;">max</p> </div>
        <div id="slider4" style="height: 20px; width: 93%; float: left; background: rgb(91, 192, 222);"></div>
        <form name="slider4_text">
            <textarea id="slider4" style="height:30px;width:5%;min-width: 80px;">{{slider4_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider4min" style="display: inline; float: left;">min</p> <p id="slider4cur" style="display: inline;"> curr</p> <p id="slider4max" style="display: inline;float: right;">max</p> </div>
    </h3>
</template>

<template name="mechanism2">
    <h3>
        <div id="creditsleft" style="float:right;">Credits left: XXX</div>
        <div id="budgetbar" class="progress">
            <div id="slider0bar" class="progress-bar progress-bar-primary" style="width: 0%"></div>
            <div id="slider1bar" class="progress-bar progress-bar-success" style="width: 0%"></div>
            <div id="slider2bar" class="progress-bar progress-bar-warning" style="width: 0%"></div>
            <div id="slider3bar" class="progress-bar progress-bar-danger" style="width: 0%"></div>
            <div id="slider4bar" class="progress-bar progress-bar-info" style="width: 0%"></div>
        </div>
        <br>
        <div id="slider0" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
        <form name="slider0_text">
            <textarea id="slider0" style="height:30px;width:5%;min-width: 80px;">{{slider0_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider0min" style="display: inline; float: left;">min</p> <p id="slider0cur" style="display: inline;"> curr</p> <p id="slider0max" style="display: inline;float: right;">max</p> </div>
        <div id="slider0weight" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
        <div id="slider1" style="height: 20px; width: 93%; float: left; background: rgb(92, 184, 92);"></div>
        <form name="slider1_text">
            <textarea id="slider1" style="height:30px;width:5%;min-width: 80px;">{{slider1_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider1min" style="display: inline; float: left;">min</p> <p id="slider1cur" style="display: inline;"> curr</p> <p id="slider1max" style="display: inline;float: right;">max</p> </div>
        <div id="slider1weight" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
        <div id="slider2" style="height: 20px; width: 93%; float: left; background: rgb(240, 173, 78);"></div>
        <form name="slider2_text">
            <textarea id="slider2" style="height:30px;width:5%;min-width: 80px;">{{slider2_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider2min" style="display: inline; float: left;">min</p> <p id="slider2cur" style="display: inline;"> curr</p> <p id="slider2max" style="display: inline;float: right;">max</p> </div>
        <div id="slider2weight" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
        <div id="slider3" style="height: 20px; width: 93%; float: left; background: rgb(217, 83, 79);"></div>
        <form name="slider3_text">
            <textarea id="slider3" style="height:30px;width:5%;min-width: 80px;">{{slider3_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider3min" style="display: inline; float: left;">min</p> <p id="slider3cur" style="display: inline;"> curr</p> <p id="slider3max" style="display: inline;float: right;">max</p> </div>
        <div id="slider3weight" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
        <div id="slider4" style="height: 20px; width: 93%; float: left; background: rgb(91, 192, 222);"></div>
        <form name="slider4_text">
            <textarea id="slider4" style="height:30px;width:5%;min-width: 80px;">{{slider4_value}}</textarea> <br>
        </form>
        <div style="width: 93%"><p id="slider4min" style="display: inline; float: left;">min</p> <p id="slider4cur" style="display: inline;"> curr</p> <p id="slider4max" style="display: inline;float: right;">max</p> </div>
        <div id="slider4weight" style="height: 20px; width: 93%; float: left; background: rgb(51, 122, 183)"></div>
    </h3>
</template>

<template name="answer0">
    <div class="center">
        {{>Template.dynamic template=current_question_text}}
        <h4>
            <br>
            Please click 'NEXT' once you read these instructions.
            <br>
        </h4>
        <input type="button" value="NEXT" id="answer_submission" class="btn btn-default">
    </div>
</template>

<template name="answer1">
    <div class="center">
       {{>Template.dynamic template=current_mechanism}}
        <h4>
            <br>
            Please explain your answer:
            <br>
        </h4>
        <form name="text_explanation">
            <textarea rows="8" cols="75"> </textarea> <br>
        </form>
        <input type="button" value="SUBMIT" id="answer_submission" class="btn btn-default">
    </div>
</template>

<template name="answer2">
    <div class="center">
        <h3>
            <p> How do you identify?</p>

            <form name = "political_stance_report">
                <label class="label label-primary">Very conservative<input type="radio" name="radio" value = "very conservative" /></label>
                <label class="label label-success">Somewhat conservative<input type="radio" name="radio" value = "somewhat conservative" /></label>
                <label class="label label-default">Neutral<input type="radio" name="radio" value = "neutral" /></label>
                <label class="label label-success">Somewhat liberal<input type="radio" name="radio" value = "somewhat liberal" /></label>
                <label class="label label-primary">Very liberal<input type="radio" name="radio" value = "very liberal" /></label>
            </form>
        </h3>
        <br>
        <input type="button" value="SUBMIT" id="answer_submission" class="btn btn-default">
    </div>
</template>

<template name="instructionsMain">

    <h4>
        <p>
            Welcome to our survey and thank you for participating. We are studying political decision making and have several questions regarding the US federal budget.
 
			We will ask you questions about how you would like the US federal government to allocate money across a few of its major budget items. We'll present the budget items and their values from 2016 and ask you how you would like to change that budget.

			## INCLUDE Agreement form for IRB ### </p>
        <p>Click 'begin' once you have read and if you agree to the above consent statement. </p>
    </h4>

</template>

<template name="question0text">
    <h4>
        <p>
            In the next page, we will ask you to indicate your preferences regarding the federal budget. We’ll show you a budget based on what other people who have answered this survey have preferred. You’ll then be allowed to modify the budget we show you to better match your preferences. We’ll also show you how much the government is budgeted to spend in 2016 so you have a better sense of what values are typical.

            You won’t be allowed to arbitrarily modify the budget that others have agreed upon, however. We’ll give you some ‘movement credits.’  To increase/decrease the budget from what others have agreed, you’ll have to spend these credits. Notably, the amount of credits you spend changing a given budget item will be the square of the change you make in that budget item.

            For example, let’s say that people before you have agreed that we should decrease discretionary defense spending by 15% and increase taxes by 10%, but you would prefer that discretionary defense spending be decreased by 10% and taxes increased by only 7%. To move the defense spending to your ideal point, you would have to spend 25 credits (15% - 10% = 5%, and 5^2 = 25). To also move the tax spending to your ideal point, you would have to spend an additional 9 credits (10% - 7% = 3%, 3^2 = 9), for a total of 34 credits.

            Of course, you may not have enough credits to make all the changes you wish to make, and so you’ll have to prioritize the changes you care about the most. Furthermore, note that as a consequence of the squaring rule, it is cheaper to move two items 5% each, for example, than it is to move one item 10%.
        </p>
    </h4>
</template>

<template name="question1text">
    <h4>
        <p>
            Mechanism 1 specific instructions
        </p>
    </h4>
</template>

<template name="question2text">
    <h4>
        <p>
            Mechanism 2 specific instructions
        </p>
    </h4>
</template>